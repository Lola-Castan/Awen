{% extends 'base.html.twig' %}

{% block title %}Devenir Créateur - Awen{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .image-preview-container.drag-over {
            @apply border-indigo-600 bg-indigo-50;
        }
    </style>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/image-preview.js') }}"></script>
{% endblock %}

{% block body %}
<div class="container mx-auto px-4 py-8">
    <div class="max-w-2xl mx-auto">
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- En-tête avec gradient animé -->
            <div class="h-32 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 animate-gradient"></div>
            
            <!-- Contenu du formulaire -->
            <div class="p-8 -mt-16">
                <div class="text-center mb-8">
                    <h1 class="text-3xl font-bold text-gray-900">Devenir Créateur</h1>
                    <p class="mt-2 text-gray-600">Partagez votre passion et vos créations avec notre communauté</p>
                </div>

                {{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}
            <div class="space-y-4">
                <div>
                    {{ form_label(form.displayName, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.displayName, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>

                <div>
                    {{ form_label(form.description, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.description, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>

                <div>
                    {{ form_label(form.website, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.website, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>

                <div>
                    {{ form_label(form.instagramProfile, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.instagramProfile, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>

                <div>
                    {{ form_label(form.facebookProfile, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.facebookProfile, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>

                <div>
                    {{ form_label(form.pinterestProfile, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.pinterestProfile, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>

                <div>
                    {{ form_label(form.practicalInfos, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                    {{ form_widget(form.practicalInfos, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                </div>
            </div>                    <div class="grid grid-cols-1 gap-6">
                        <!-- Informations de base -->
                        <div class="space-y-6 bg-gray-50 p-6 rounded-xl">
                            <h3 class="text-lg font-medium text-gray-900">Informations de base</h3>
                            <div class="grid grid-cols-1 gap-4">
                                <div>
                                    {{ form_label(form.displayName, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                    {{ form_widget(form.displayName, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500'}}) }}
                                    {{ form_errors(form.displayName) }}
                                </div>
                                
                                <div>
                                    {{ form_label(form.description, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                    {{ form_widget(form.description, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500', 'rows': 4}}) }}
                                    {{ form_errors(form.description) }}
                                </div>
                            </div>
                        </div>

                        <!-- Image de couverture -->
                        <div class="space-y-2">
                            {{ form_label(form.coverImage, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                            <div class="image-preview-container group border-2 border-dashed border-gray-300 rounded-xl p-8 transition-all hover:border-indigo-500">
                                {{ form_widget(form.coverImage) }}
                                
                                <div class="text-center">
                                    <img class="image-preview mx-auto hidden h-40 w-full object-cover rounded-lg" src="#" alt="Preview">
                                    <div class="image-preview-placeholder">
                                        <svg class="mx-auto h-12 w-12 text-gray-400" stroke="currentColor" fill="none" viewBox="0 0 48 48">
                                            <path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4-4m4-12h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                        </svg>
                                        <p class="mt-4 text-sm text-gray-600">Glissez et déposez une image ici, ou</p>
                                        <button type="button" onclick="document.querySelector('input[type=\'file\']').click()" class="mt-2 inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                                            Choisir une image
                                        </button>
                                    </div>
                                </div>
                            </div>
                            <p class="text-sm text-gray-500">PNG, JPG ou WEBP. 5MB maximum.</p>
                            {{ form_errors(form.coverImage) }}
                        </div>

                        <!-- Réseaux sociaux -->
                        <div class="space-y-6 bg-gray-50 p-6 rounded-xl">
                            <h3 class="text-lg font-medium text-gray-900">Réseaux sociaux</h3>
                            <div class="grid grid-cols-1 gap-4">
                                <div>
                                    {{ form_label(form.website, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                    {{ form_widget(form.website, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500', 'placeholder': 'https://'}}) }}
                                </div>

                                <div>
                                    {{ form_label(form.instagramProfile, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                    {{ form_widget(form.instagramProfile, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500', 'placeholder': 'https://instagram.com/'}}) }}
                                </div>

                                <div>
                                    {{ form_label(form.facebookProfile, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                    {{ form_widget(form.facebookProfile, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500', 'placeholder': 'https://facebook.com/'}}) }}
                                </div>

                                <div>
                                    {{ form_label(form.pinterestProfile, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                    {{ form_widget(form.pinterestProfile, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500', 'placeholder': 'https://pinterest.com/'}}) }}
                                </div>
                            </div>
                        </div>

                        <!-- Informations pratiques -->
                        <div class="space-y-6 bg-gray-50 p-6 rounded-xl">
                            <h3 class="text-lg font-medium text-gray-900">Informations pratiques</h3>
                            <div>
                                {{ form_label(form.practicalInfos, null, {'label_attr': {'class': 'block text-sm font-medium text-gray-700'}}) }}
                                {{ form_widget(form.practicalInfos, {'attr': {'class': 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500', 'rows': 4}}) }}
                                {{ form_errors(form.practicalInfos) }}
                            </div>
                        </div>
                    </div>

                    <div class="pt-6">
                        <button type="submit" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-xl text-sm font-medium text-white bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 hover:from-indigo-600 hover:via-purple-600 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 shadow-lg transform transition hover:-translate-y-0.5">
                            Lancer mon aventure créative
                        </button>
                    </div>
                {{ form_end(form) }}
            </div>
        </div>
    </div>
</div>
{% endblock %}
